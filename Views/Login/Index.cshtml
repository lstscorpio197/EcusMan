
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECUS MAN</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @*<link rel="stylesheet" href="/AdminLTE/plugins/font-awesome/css/font-awesome.min.css">*@
    <!-- Ionicons -->
    <!-- DataTables -->
    @*<link rel="stylesheet" href="/AdminLTE/plugins/datatables/dataTables.bootstrap4.css">*@
    <!-- Select2 -->
    <link rel="stylesheet" href="/AdminLTE/plugins/select2/select2.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="~/AdminLTE/dist/css/adminlte.min.css">
    <!-- iCheck for checkboxes and radio inputs -->
    <link rel="stylesheet" href="/AdminLTE/plugins/iCheck/all.css">
    <!-- Morris chart -->
    <link rel="stylesheet" href="/AdminLTE/plugins/morris/morris.css">
    <!-- jvectormap -->
    <link rel="stylesheet" href="/AdminLTE/plugins/jvectormap/jquery-jvectormap-1.2.2.css">
    <!-- Date Picker -->
    <link rel="stylesheet" href="/AdminLTE/plugins/datepicker/datepicker3.css">
    <!-- Daterange picker -->
    @*<link rel="stylesheet" href="/AdminLTE/plugins/daterangepicker/daterangepicker-bs3.css">*@

    @*<link href="~/AdminLTE/plugins/daterangepicker-mater/daterangepicker.css" rel="stylesheet" />*@
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="/AdminLTE/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">
    <!-- Google Font: Source Sans Pro -->
    @*<link rel="stylesheet" type="text/css" href="~/Content/Reference/fonts.googleapis.com.css" />*@
    <link rel="stylesheet" type="text/css" href="~/Content/Reference/jquery-confirm.css" />
    <link rel="stylesheet" href="~/Content/Reference/preloader.css" />
    <link href="~/AdminLTE/plugins/bootstrap3-editable/css/bootstrap-editable.css" rel="stylesheet" />
    <link href="~/Content/font-awesome.min.css" rel="stylesheet" />
    <link href="~/Content/site-main.css" rel="stylesheet" />
    <link href="~/Content/bootstrap-datetimepicker.min.css" rel="stylesheet" />
    <link href="~/Content/site-vertical.css" rel="stylesheet" />
    <link href="~/Content/Site-login.css" rel="stylesheet" />
</head>
<body class="hold-transition sidebar-mini sidebar-collapse">
    <div class="wrapper">
        <div class="content-wrapper" style="margin-top:0!important">
            <div class="content-fluid height100">
                <div class="card mb0px height100">
                    <div class="card-body padding0px" style="overflow-y: auto; overflow-x: hidden;">
                        <div class="row height100">
                            <div class="wid100" style="background: url(/Content//Images/bg.jpg) no-repeat; background-size:100% 100%; overflow-y:auto; overflow-x:hidden">
                                <div class="form-bottom">
                                    <div class="text-center">
                                        <img src="~/Content/Images/logo-png-new.jpg" style="width:80%" />
                                    </div>
                                    <div class="main-frame">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="frame-login hidden">
        <div class="mb20 mt20 text-center text-uppercase bold" style="font-size: 21px;">
            Đăng nhập hệ thống
        </div>
        <form role="form" action="@Url.Action("Login", "Login")" method="post" class="login-form" id="formgr">
            @Html.AntiForgeryToken()
            @{
                if (ViewBag.alert != null)
                {
                    <div class="alert alert-warning" style="padding: 7px 15px;">
                        @Html.Raw(ViewBag.alert)
                    </div>
                }
            }
            <div class="mb20 mt20">
                Tên đăng nhập
                <div class="form-group position-relative mb20">
                    <label class="sr-only" for="form-username">Username</label>
                    <input autofocus value="@ViewBag.UserName" type="text" data-bv-notempty="true" name="Username" placeholder="Tên đăng nhập..." class="form-username form-control" id="form-username" />
                </div>
                Mật khẩu
                <div class="form-group position-relative mb20">
                    <label class="sr-only" for="form-password">Password</label>
                    <input value="@ViewBag.PassWord" type="password" data-bv-notempty="true" name="Password" placeholder="Mật khẩu..." class="form-password form-control" id="form-password" />
                </div>
            </div>
            <div class="row mb20">
                <div class="col-sm-6 col-md-6">
                    <input type="hidden" name="IsRemember" value="0" />
                    <label><input type="checkbox" class="ace cb" name="CheckRememberMe" /><span class="lbl">&nbsp;Lưu đăng nhập</span></label>
                </div>
                <div class="col-sm-6 col-md-6 text-right">
                    <span class="btnQuenMatKhau cursor" style=""><i class="fa fa-question-circle-o" aria-hidden="true"></i>&nbsp;Quên mật khẩu</span>
                </div>
            </div>
            <button type="submit" class="btn" style=""><i class="fa fa-sign-in"></i>&nbsp;Đăng nhập</button>
        </form>
    </div>

    <div class="frame-sendmail hidden">
        <div class="mb20 mt20 text-center text-uppercase bold" style="font-size: 21px;">
            Quên mật khẩu
        </div>
        <form role="form" action="" method="post" class="login-form" id="formgr">
            <div class="alert alert-warning hidden" style="padding: 7px 15px;">

            </div>
            <div class="mb20 mt20">
                Tên đăng nhập
                <div class="form-group position-relative mb20">
                    <label class="sr-only" for="form-username">Username</label>
                    <input autofocus value="" type="text" name="Username" placeholder="Tên đăng nhập..." class="form-username form-control" id="form-username" />
                </div>
                Địa chỉ email
                <div class="form-group position-relative mb20">
                    <label class="sr-only" for="form-email">Email</label>
                    <input value="" type="text" name="Email" placeholder="Địa chỉ email..." class="form-email form-control" id="form-email" />
                </div>
                <div class="code-frame">
                    Mã xác nhận
                    <div class="float-right">
                        <span class="blue cursor resend-email">Gửi lại mã&nbsp;<i class="fa fa-refresh"></i></span>
                    </div>
                    <div class="form-group position-relative mb20">
                        <label class="sr-only" for="form-code">Code</label>
                        <input value="" type="text" name="Code" placeholder="Mã xác nhận..." class="form-code form-control" id="form-code" />
                    </div>
                </div>
            </div>

            <button type="button" class="btn btn-next btn-sendmail" style="">Tiếp theo&nbsp;<i class="fa fa-arrow-right"></i></button>
            <div class="text-center"><span class="cursor back-to-login"><i class="fa fa-arrow-left"></i>&nbsp;Quay lại</span></div>
        </form>
    </div>

    <div class="frame-changepass hidden">
        <div class="mb20 mt20 text-center text-uppercase bold" style="font-size: 21px;">
            Đổi mật khẩu
        </div>
        <form role="form" action="" method="post" class="login-form" id="formgr" data-username="">
            <div class="alert alert-warning hidden" style="padding: 7px 15px;">

            </div>
            <div class="mb20 mt20">
                Mật khẩu mới
                <div class="form-group position-relative mb20">
                    <label class="sr-only" for="form-newpass">Password</label>
                    <input autofocus value="" type="password" name="NewPass" class="form-newpass form-control" id="form-newpass" />
                </div>
                Xác nhận mật khẩu mới
                <div class="form-group position-relative mb20">
                    <label class="sr-only" for="form-confirmpass">ConfirmPass</label>
                    <input value="" type="password" name="ConfirmPass" class="form-confirmpass form-control" id="form-confirmpass" />
                </div>
            </div>

            <button type="button" class="btn btn-next" style=""><i class="fa fa-lock"></i>&nbsp;Xác nhận đổi mật khẩu</button>
            <div class="text-center"><span class="cursor back-to-sendmail"><i class="fa fa-arrow-left"></i>&nbsp;Quay lại</span></div>
        </form>
    </div>

    @Scripts.Render("~/bundles/jquery")
    <script type="text/javascript" src="~/Scripts/Reference/Message.js"></script>
    <script type="text/javascript" src="~/Scripts/Reference/jquery-confirm.js"></script>
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/EcusJs")
    @Scripts.Render("~/bundles/CommonJs")
    @Scripts.Render("~/bundles/Validator")
    <script src="~/Scripts/Reference/jquery.preloader.min.js"></script>
    <script src="~/Scripts/Common/common.js"></script>
    <script src="~/Scripts/bootstrap-datetimepicker.min.js"></script>
    <script src="/AdminLTE/plugins/select2/select2.full.min.js"></script>
    <script src="/AdminLTE/dist/js/adminlte.js"></script>

    <script>
        var loginFrame = $('.frame-login').html();
        $('.frame-login').remove();
        var codeFrame = $('.code-frame').html();
        $('.code-frame').html('');
        var sendMailFrame = $('.frame-sendmail').html();
        $('.frame-sendmail').remove();
        var changePassFrame = $('.frame-changepass').html();
        $('.frame-changepass').remove();

        var $Login = {
            init: function () {
                this.Event();
            },
            Self: $('.main-frame'),
            Event: function () {
                this.LoadLoginFrame()
            },
            LoadLoginFrame: function () {
                $Login.Self.html(loginFrame);
                $Login.BtnForgotPass();
            },
            LoadSendEmailFrame: function () {
                $Login.Self.html(sendMailFrame);
                $Login.SendMail();
                $Login.BtnBack();
            },
            LoadChangePassFrame: function () {
                $Login.Self.html(changePassFrame);
                $Login.ChangePass();
                $Login.BtnBack();
            },
            BtnForgotPass: function () {
                $('.btnQuenMatKhau').off('click').on('click', function () {
                    $Login.LoadSendEmailFrame();
                    $Login.BtnSendMail();
                })
            },
            BtnBack: function () {
                $('.back-to-login').off('click').on('click', function () {
                    $Login.LoadLoginFrame();
                })
                $('.back-to-sendmail').off('click').on('click', function () {
                    $Login.LoadSendEmailFrame();
                })
            },
            BtnSendMail: function () {
                $('.btn-sendmail').off('click').on('click', function () {
                    $('.code-frame').html(codeFrame);
                    $Login.ResendMail();
                    $('.btn-sendmail').addClass('btn-check-code');
                    $('.btn-sendmail').removeClass('btn-sendmail');
                    $Login.CheckCode();
                })
            },
            SendMail: function () {

            },
            ResendMail: function () {
                $('.resend-email').off('click').on('click', function () {
                    $Login.SendMail();
                })
            },
            CheckCode: function () {
                $('.btn-check-code').off('click').on('click', function () {
                    $Login.LoadChangePassFrame();
                    $Login.Self.find('form').data('username', '');
                })
            },
            ChangePass: function () {
                $Login.LoadLoginFrame();
            }
        }
        $Login.init();

        function ReSize() {
            var $cardBody = $('.card-body');
            $cardBody.css('height', window.innerHeight);
        }
        ReSize();
        $(window).on('resize', function () { ReSize(); });
        //Khởi tạo validate cho form
        $('#formgr').bootstrapValidator({
            excluded: ':disabled',
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            }
        });

    </script>
</body>
</html>

